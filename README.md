# مشروع MVP: بوت تليجرام لمعهد المشورة (OCINozha) - README

سلام ونعمة وبركة يا أبونا ✝️

هذا المشروع هو نسخة MVP (Minimum Viable Product) لبوت تليجرام يخدم معهد المشورة:
- يرد على أسئلة شائعة (FAQ) عبر قائمة أزرار أو كلمات مفتاحية.
- يحول الاستفسارات غير المغطاة إلى جروب الإدارة.
- يتيح للموظفين الرد في الجروب بصيغة محددة ليُعاد إرسال الرد لطالب الاستفسار.
- يسجل المحادثات في قاعدة SQLite للمتابعة والرقابة.

## محتويات الحزمة
- `bot_app.py` : تطبيق Flask يستقبل Webhook من Telegram ويعالج الرسائل.
- `requirements.txt` : تبعيات المشروع.
- `faqs.json` : ملف أسئلة وأجوبة مبدئية.
- `models.sql` : مخطط قاعدة البيانات (SQL).
- `admin_guide.md` : دليل مبسّط للموظفين عن كيفية الرد في الجروب وبروتوكول الاستخدام.
- `deploy_instructions.md` : خطوات نشر سريعة على Render أو Heroku.
- `.env.example` : مثال لمتغيرات البيئة المطلوبة.
- `Procfile` : لHeroku (اختياري).

---

## خطوات سريعة للتشغيل محليًا (لتجربة)
1. ثبت Python 3.10+ ونشئ بيئة افتراضية:
   ```bash
   python -m venv venv
   source venv/bin/activate   # على لينكس/ماك
   venv\Scripts\activate    # على ويندوز
   pip install -r requirements.txt
   ```
2. جهّز ملف `.env` في نفس المجلد بناءً على `.env.example`:
   - ضع `TG_TOKEN` (توكن البوت من BotFather).
   - ضع `ADMIN_GROUP_ID` (معرف جروب الإدارة، يمكن الحصول عليه كما في `deploy_instructions.md`).
3. شغّل التطبيق محليًا:
   ```bash
   python bot_app.py
   ```
   سيفتح على المنفذ الافتراضي (5000) ويمكن اختباره عبر ngrok أو نشره ثم تسجيل الويب هوك.
4. سجل الـ Webhook:
   ```
   https://api.telegram.org/bot<YOUR_TOKEN>/setWebhook?url=https://<YOUR_HOST>/webhook/<YOUR_TOKEN>
   ```

---

## ملاحظات عملية
- البروتوكول للرد في جروب الإدارة: ابدأ رسالة الرد بـ `#reply <conv_id>:` ثم اكتب نص الرد. مثال:
  ```
  #reply 12: الشهادة تُمنح بعد نهاية الفصل الدراسي من سكرتارية المعهد.
  ```
  سيقوم البوت بإرسال النص للطالب صاحب الـ conversation id=12 ويخزن الرد بسجل الموظف.
- لا تضع توكن أو مفاتيح في قنوات عامة.

---

لو حابب، أقدر أنفّذ الخطوة التالية فورًا:
- أ) أعدّ التنصيب الكامل وأنشره على Render (لو حضرتك تعطيني صلاحية النشر أو تفاصيل الحساب).  
- ب) أو أشرح لك خطوة بخطوة كيف تعمل نشر بنفسك (مباشر ومرشد).  

أخبرني أي خيار تفضّل، وأنا أتابع التنفيذ مع حضرتك خطوة بخطوة بدون استعجال.
